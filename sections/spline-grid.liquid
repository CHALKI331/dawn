<script type="module" src="https://unpkg.com/@splinetool/viewer/build/spline-viewer.js"></script>

<div class="spline-grid-container">
  {% for block in section.blocks %}
    <div class="spline-grid-item {{ block.settings.class }}">
      <div class="spline-wrapper">
        <spline-viewer 
          url="{{ block.settings.scene_url }}" 
          style="width: 100%; height: 100%;"
          loading="eager"
        ></spline-viewer>
      </div>
    </div>
  {% endfor %}
</div>

{% schema %}
{
  "name": "Spline Grid",
  "settings": [],
  "blocks": [
    {
      "type": "scene",
      "name": "Spline Scene",
      "settings": [
        {
          "type": "url",
          "id": "scene_url",
          "label": "Spline Viewer URL",
          "info": "Paste the full Viewer URL from Spline (e.g., https://prod.spline.design/.../scene.splinecode)"
        },
        {
          "type": "text",
          "id": "class",
          "label": "CSS Class (optional)",
          "default": "spline-item"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Spline Grid",
      "blocks": [
        { "type": "scene" },
        { "type": "scene" },
        { "type": "scene" },
        { "type": "scene" },
        { "type": "scene" },
        { "type": "scene" },
        { "type": "scene" },
        { "type": "scene" },
        { "type": "scene" }
      ]
    }
  ]
}
{% endschema %}